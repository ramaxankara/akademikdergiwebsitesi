<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
    
     <h:form>
            
      <p:commandButton value="Çıkıs Yap" ajax="false" actionListener="#{dtSelectionView.cıkıs()}" style="margin-left:1200px;" />
       
      </h:form>
            
        
        
        
    <h:form id="form">
    <p:growl id="msgs" showDetail="true" />
 
    <p:dataTable id="basicDT" var="car" value="#{dtSelectionView.makaleListesi}" style="margin-top: 20px;">
        <f:facet name="header">
            ONAY BEKLEYEN MAKALELER
        </f:facet>
        <p:column headerText="Adi">
            <h:outputText value="#{car.makaleadi}" />
        </p:column>
        <p:column headerText="Konusu">
            <h:outputText value="#{car.makalekonu}" />
        </p:column>
        <p:column headerText="Yazar Adi">
            <h:outputText value="#{car.yazaradi}" />
        </p:column>
        <p:column headerText="Yazar Mail">
            <h:outputText value="#{car.yazarmail}" />
        </p:column>
        <p:column headerText="Dergi Adi">
             <h:outputText value="#{car.dergiadi}" />
        </p:column>
        <p:column headerText="Dosya Adi">
            <h:outputText value="#{car.dosyayolu}" />
        </p:column>
        <p:column headerText="İndir Görüntüle">
          <p:commandButton value="Download" ajax="false">
         
         </p:commandButton>
      
        </p:column>

        <p:column headerText="Onayla">
            <p:commandButton update=":form:carDetail" oncomplete="PF('carDialog').show()" value="Onayla">
                 <f:setPropertyActionListener value="#{car}" target="#{dtSelectionView.dialog}" />
            </p:commandButton>
        </p:column>
    </p:dataTable>
     
    <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="carDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty dtSelectionView.dialog}" columnClasses="label,value">
                
                <h:outputText value="Id:" />
                <h:outputText value="#{dtSelectionView.dialog.makaleid}" />
 
                <h:outputText value="Makale Adi:" />
                <h:outputText value="#{dtSelectionView.dialog.makaleadi}" />
 
                <h:outputText value="Makale Konu:" />
                <h:outputText value="#{dtSelectionView.dialog.makalekonu}"/>
             
                <h:outputText value="Yazar Adi:" />
                <h:outputText value="#{dtSelectionView.dialog.yazaradi}" />
                
                <h:outputText value="Yazar Mail:" />
                <h:outputText value="#{dtSelectionView.dialog.yazarmail}" />
                
                <h:outputText value="Dergi Adi:" />
                <h:outputText value="#{dtSelectionView.dialog.dergiadi}" />
                
                <h:outputText value="Dosya Yolu" />
                <h:outputText value="#{dtSelectionView.dialog.dosyayolu}" />
                
                <h:outputText value="Onayla Veritabanına Kaydet :" />
                <p:commandButton value="Kaydet" ajax="false" actionListener="#{dtSelectionView.yayinla()}">
         
                 </p:commandButton>
                 <h:outputText value="Reddet :" />
                 <p:commandButton value="Reddet" ajax="false" actionListener="#{dtSelectionView.reddet()}">
         
                 </p:commandButton>
                
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
     
</h:form>
        
        
        
    </h:body>
</html>

